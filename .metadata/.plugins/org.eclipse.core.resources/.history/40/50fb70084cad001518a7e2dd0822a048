import java.awt.*;
import java.awt.event.*;
import java.util.Random;
import java.util.TimerTask;

import javax.swing.*;


public class Board extends JPanel implements ActionListener {
	Character p=new Character();
	public Image img,img2;
	Timer time,timeblack;
	int a=1,b=1;
	int counter=0;
	boolean control = false;
	

	private ImageIcon bgn;
	private ImageIcon back;
	JPanel pnl=new JPanel(new BorderLayout());
	JLabel lblcount=new JLabel("PUAN :");
	JLabel lblcount2=new JLabel();
	Main m=new Main();

	public Board() {
		addKeyListener(new AL());
		setFocusable(true);
		JPanel p=new JPanel();
		p.add(lblcount);
		p.add(lblcount2);
		add(p,BorderLayout.NORTH);
		

		JLabel background=new JLabel(new ImageIcon("C:\\Users\\Mustafa\\Desktop\\COMPUTER ENGINEERING\\SOFTWARE\\JAVA PROGRAMMING\\Citlembik\\Citlembik\\src\\sky.jpg"));
		background.setLayout(new FlowLayout());
		add(background);
		
		ImageIcon bgn = new ImageIcon("C:\\Users\\Mustafa\\Desktop\\COMPUTER ENGINEERING\\SOFTWARE\\JAVA PROGRAMMING\\Citlembik\\Citlembik\\src\\pink.gif");
		img = bgn.getImage();

		timeblack=new Timer(100,this);
		timeblack.start();
		
		time = new Timer(50,new ActionListener() {
			
			@Override
			public void actionPerformed(ActionEvent arg0) {
				// TODO Auto-generated method stub
		
			}
		});
		 java.util.Timer time1 = new java.util.Timer();
		 time1.scheduleAtFixedRate(new TimerTask() {
			  public void run() {
				  
					Random r1=new Random();
					a=r1.nextInt(9);
					b=r1.nextInt(5);
					/*System.out.println("x = "+(a*240)+" "
							+ "y = "+((b*120))); */
					//System.out.println((a*240)+" ve "+((a*240)+240)+" veve "+);
					//System.out.println(getX()+" "+getY());
				/*	if((a*240)<=p.getX() && p.getX()<=(a*240+177) && (b*120)<=p.getY() && p.getY()<=(b*120+100)){
					counter++;
					}
					System.out.println(counter);*/
					isControl();
					
			  }
			}, (long)1500,(long) 1500);
	}

	public void actionPerformed(ActionEvent e) {
		lblcount2.setText(String.valueOf(getCounter()));
		
		p.horizontalMove();
		p.verticalMove();
		repaint();
		//System.out.println(p.getX()+" "+p.getY());
		if((a*240)<=p.getX() && p.getX()<=(a*240+100) && (b*120)<=p.getY() && p.getY()<=(b*120+61)){
			control = true;
		}

		//System.out.println(counter);
	}

	public void isControl(){
		if(control){
			counter++;
			//System.out.println(counter);a
		}
		control=false;

	}

	/*public void calculate(){

		if((a*240)<=p.getX() && p.getX()<=(a*240+177) && (b*120)<=p.getY() && p.getY()<=(b*120+100)){
			counter++;
			System.out.println(counter);
			}	
	}*/

	public int getCounter(){
		return counter;
	
	}

	public void paint(Graphics g) {

		super.paint(g);
		Graphics2D g2d = (Graphics2D) g;
		
		g2d.drawImage(img2,0,0, null);
		g2d.drawImage(img, (240*a), (120*b), null);
		g2d.drawImage(p.getImage(), p.getX(), p.getY(), null);
		
	}

	private class AL extends KeyAdapter {
		public void keyReleased(KeyEvent e) {
			p.keyReleased(e);
		}

		public void keyPressed(KeyEvent e) {
			p.keyPressed(e);
		}
	}
}


